{% extends "base.html.twig" %}

{% block title %}Inscription{% endblock %}

{% block body %}
    <div class="container margin_navbar_light mb-5">
        {% if app.user %}
            <div class="alert alert-info col-md-10 col-xs-12 mx-auto align-items-center text-center">
                <p class="m-0">Vous êtes déjà inscrit et connecté en tant que {{ app.user.username }}</p>
            </div>
            <div class="text-center">
                <a href="{{ path('home') }}" class="mt-3">Retour à la page d'accueil</a><br>
                <a href="{{ path('logout')}}">Se déconnecter</a>
            </div>
        {% else %}
        {{ form_start(form, {'action': path('user_subscribe')}) }}
        <div class="row col-8 mx-auto" id="form_subscribe">
            <div class="col-12">
                <h1 class="font_title text-center">Vous inscrire :</h1>
                <p class="mb-5 text-center"><i>* champs obligatoires</i></p>
            </div>
            <div class="col-md-6 col-xs-12 mx-auto">
                <div class="col-md-12 col-xs-12 mx-auto">
                    {{ form_row(form.firstname) }}
                    {{ form_row(form.lastname) }}
                    {{ form_row(form.email) }}
                    {{ form_row(form.phoneNumber) }}
                    {{ form_row(form.address) }}
                    {{ form_row(form.city) }}
                    {{ form_row(form.postalCode) }}
                </div>
            </div>
            <div class="col-md-6 col-xs-12 mx-auto">
                <div class="col-md-12 col-xs-12 mx-auto">
                    {{ form_row(form.username) }}
                    {{ form_row(form.password) }}
                    {{ form_row(form.verifPassword) }}
                    {{ form_row(form.imageProfile) }}
                    {{ form_row(form.receiveNewsLetter) }}
                    <button id="subscribe_button" class="btn btn-outline-primary mx-auto mt-3">Valider votre inscription</button>
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
        {% endif %}
    </div>
{% endblock %}